(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-index-index"],{"0081":function(t,n,i){var e=i("f9d4");e.__esModule&&(e=e.default),"string"===typeof e&&(e=[[t.i,e,""]]),e.locals&&(t.exports=e.locals);var o=i("4f06").default;o("e8ca3f82",e,!0,{sourceMap:!1,shadowMode:!1})},"0479":function(t,n,i){"use strict";var e=i("0081"),o=i.n(e);o.a},"0c28":function(t,n,i){"use strict";i.r(n);var e=i("2974"),o=i("2f96");for(var a in o)["default"].indexOf(a)<0&&function(t){i.d(n,t,(function(){return o[t]}))}(a);i("0479");var s=i("f0c5"),u=Object(s["a"])(o["default"],e["b"],e["c"],!1,null,"7114d33f",null,!1,e["a"],void 0);n["default"]=u.exports},2974:function(t,n,i){"use strict";i.d(n,"b",(function(){return e})),i.d(n,"c",(function(){return o})),i.d(n,"a",(function(){}));var e=function(){var t=this,n=t.$createElement,i=t._self._c||n;return i("v-uni-view",[i("table",{staticClass:"main",attrs:{border:"1"}},[i("tr",[i("td",{attrs:{width:"30%",align:"center"}},[t._v("服务器")]),i("td",[i("v-uni-input",{model:{value:t.address,callback:function(n){t.address=n},expression:"address"}})],1)]),i("tr",[i("td",{attrs:{width:"30%",align:"center"}},[t._v("支出")]),i("td",[i("v-uni-radio-group",{on:{change:function(n){arguments[0]=n=t.$handleEvent(n),t.radioChange.apply(void 0,arguments)}}},[i("v-uni-radio",{attrs:{name:"outin",value:"支出",checked:0===t.outin}},[t._v("支出")]),i("v-uni-radio",{attrs:{name:"outin",value:"收入",checked:1===t.outin}},[t._v("收入")])],1)],1)]),i("tr",[i("td",{attrs:{width:"30%",align:"center"}},[t._v("金额")]),i("td",[i("v-uni-input",{attrs:{type:"number"},model:{value:t.count,callback:function(n){t.count=n},expression:"count"}})],1)]),i("tr",[i("td",{attrs:{width:"30%",align:"center"}},[t._v("用途")]),i("td",[i("v-uni-input",{model:{value:t.usefor,callback:function(n){t.usefor=n},expression:"usefor"}})],1)]),i("tr",[i("td",{attrs:{width:"30%",align:"center"}},[t._v("备注")]),i("td",[i("v-uni-textarea",{model:{value:t.other,callback:function(n){t.other=n},expression:"other"}})],1)]),i("tr",[i("td",{attrs:{width:"30%",align:"center"}},[t._v("验证")]),i("td",{class:"未验证"==t.status1?"red":"green"},[t._v(t._s(t.status1))])]),i("tr",[i("td",{attrs:{width:"30%",align:"center"}},[t._v("状态")]),i("td",{class:"待提交"==t.status2?"red":"green"},[t._v(t._s(t.status2))])]),i("tr",[i("td",{attrs:{colspan:" 2"}},[i("v-uni-view",{staticClass:"subs"},[i("v-uni-button",{staticClass:"sub",attrs:{type:"primary"},on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.check()}}},[t._v("检验")]),i("v-uni-button",{staticClass:"sub",attrs:{type:"primary"},on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.submit()}}},[t._v("提交")])],1)],1)])])])},o=[]},"2f96":function(t,n,i){"use strict";i.r(n);var e=i("3727"),o=i.n(e);for(var a in e)["default"].indexOf(a)<0&&function(t){i.d(n,t,(function(){return e[t]}))}(a);n["default"]=o.a},3727:function(t,n,i){"use strict";i("7a82"),Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var e={data:function(){return{address:"192.168.196.41:8888",outin:0,count:0,usefor:"",other:"",status1:"未验证",status2:"待提交"}},onLoad:function(){},methods:{radioChange:function(t){"支出"===t.detail.value&&(this.outin=0,console.log(this.outin)),"收入"===t.detail.value&&(this.outin=1,console.log(this.outin))},check:function(){var t=this;return uni.showLoading({title:"正在核验输入内容和服务器状态"}),""==this.count||0==this.count?(uni.hideLoading(),void uni.showToast({title:"请输入金额",duration:1e3,icon:"error"})):void 0!=this.count.split(".")[1]&&this.count.split(".")[1].length>2?(uni.hideLoading(),void uni.showToast({title:"金额不能超过两位小数",duration:1e3,icon:"error"})):""==this.usefor?(uni.hideLoading(),void uni.showToast({title:"请输入用途",duration:1e3,icon:"error"})):void uni.request({url:"http://"+this.address+"/check",data:{text:"uni.request"},success:function(n){uni.hideLoading(),console.log(n.data),200==n.data.code?(t.status1="已核验",uni.showToast({title:"核验成功",duration:2e3,icon:"success"})):uni.showToast({title:"核验失败",duration:2e3,icon:"error"})},fail:function(){uni.hideLoading(),uni.showToast({title:"核验失败，请检查登录状态和网络",duration:2e3,icon:"error"})}})},submit:function(){var t=this;if(uni.showLoading({title:"正在提交"}),"已核验"!=this.status1)return uni.hideLoading(),void uni.showToast({title:"请先验证再提交",duration:1e3,icon:"error"});uni.request({url:"http://"+this.address+"/bill/add",method:"POST",data:{revenue:(0==this.outin?"-":"")+this.count,useTo:this.usefor,notes:this.other},header:{"content-type":"application/json"},success:function(n){console.log(n.data),200==n.data.code?(t.status2="提交成功，表单已自动复位",t.status1="上次核验内容已提交",t.outin=0,t.count=0,t.usefor="",t.other="",uni.showToast({title:"提交成功",duration:2e3,icon:"success"})):uni.showToast({title:"提交失败",duration:2e3,icon:"error"})},fail:function(){uni.hideLoading(),uni.showToast({title:"提交失败，请检查登录状态和网络",duration:2e3,icon:"error"})}})}}};n.default=e},f9d4:function(t,n,i){var e=i("24fb");n=e(!1),n.push([t.i,".main[data-v-7114d33f]{width:100%}.subs[data-v-7114d33f]{display:flex;justify-content:space-between;width:100%}.sub[data-v-7114d33f]{width:%?350?%}.red[data-v-7114d33f]{color:red}.green[data-v-7114d33f]{color:green}",""]),t.exports=n}}]);